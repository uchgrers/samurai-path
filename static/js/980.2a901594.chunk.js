"use strict";(self.webpackChunksamurai_path_v2=self.webpackChunksamurai_path_v2||[]).push([[980],{6980:(e,s,o)=>{o.r(s),o.d(s,{default:()=>C});var r=o(5043),t=o(3003);const a="User_item__MUEkW",l="User_user__XkNJJ",n="User_avatar__ob6sa";var i=o(5475),g=o(579);const c=e=>(0,g.jsx)("div",{className:a,children:(0,g.jsxs)("div",{className:l,children:[(0,g.jsx)(i.k2,{to:"/profile/".concat(e.id),children:(0,g.jsx)("img",{src:e.photo||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"Avatar",className:n})}),(0,g.jsx)("div",{children:e.firstName}),(0,g.jsx)("button",{onClick:()=>{e.changeFollowStatus(e.id,e.followed)},disabled:e.inFollowingProgress.some((s=>s===e.id)),children:e.followed?"Unfollow":"Follow"})]})});var u=o(5600);const h="Paginator_currentPage__T-0sm",d="Paginator_page__xiXZZ",P=e=>{const s=Math.ceil(e.itemsTotalCount/e.pageSize),o=[],t=Math.ceil(s/10),[a,l]=(0,r.useState)(Math.ceil(e.currentPage/10)),n=10*(a-1)+1,i=10*a;for(let r=1;r<=s;r++)o.push(r);return(0,g.jsxs)("div",{children:[a>1&&(0,g.jsx)("button",{onClick:()=>l(a-1),children:"Prev"}),(0,r.useMemo)((()=>o.map((e=>e)).filter((e=>e>=n&&e<=i)).map((s=>(0,g.jsx)("span",{onClick:()=>{(s=>{e.onPageChange(e.pageSize,s)})(s)},className:e.currentPage===s&&h||d,children:s},s+" page key")))),[n]),t>a&&(0,g.jsx)("button",{onClick:()=>l(a+1),children:"Next"})]})},p=e=>{(0,r.useEffect)((()=>{0===e.users.length&&e.getUsers(e.pageSize,e.currentPage)}),[e.currentPage]);const s=e.users.map((s=>(0,g.jsx)(c,{id:s.id,firstName:s.name,followed:s.followed,status:s.status,photo:s.photos.small,followUser:e.followUnfollowUser,toggleFollowingProgress:e.toggleFollowingProgress,inFollowingProgress:e.inFollowingProgress,changeFollowStatus:e.changeFollowStatus},s.id+" user key")));return(0,g.jsx)("div",{children:e.isFetching?(0,g.jsx)(u.A,{}):(0,g.jsxs)("div",{children:[(0,g.jsx)(P,{currentPage:e.currentPage,onPageChange:e.getUsers,itemsTotalCount:e.usersTotalCount,pageSize:e.pageSize}),s]})})};var w=o(9548),m=o(2099);const f=e=>e.usersPage.users,_=((0,m.Mz)([f],(e=>e)),e=>e.usersPage.usersTotalCount),v=e=>e.usersPage.pageSize,x=e=>e.usersPage.currentPage,F=e=>e.usersPage.isFetching,j=e=>e.usersPage.inFollowingProgress,C=(0,t.Ng)((e=>({users:f(e),usersTotalCount:_(e),pageSize:v(e),currentPage:x(e),isFetching:F(e),inFollowingProgress:j(e)})),{followUnfollowUser:w.Dn,setUsers:w.v5,setCurrentPage:w.Tm,setUsersTotalCount:w.Yv,toggleIsFetching:w.nZ,toggleFollowingProgress:w.tL,getUsers:w.lo,changeFollowStatus:w.Ei})(p)}}]);
//# sourceMappingURL=980.2a901594.chunk.js.map