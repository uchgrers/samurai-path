"use strict";(self.webpackChunksamurai_path_v2=self.webpackChunksamurai_path_v2||[]).push([[980],{6980:(e,s,o)=>{o.r(s),o.d(s,{default:()=>C});var l=o(5043),r=o(3003);const t="User_item__MUEkW",a="User_user__XkNJJ",n="User_avatar__ob6sa";var g=o(5475),i=o(579);const c=e=>(0,i.jsx)("div",{className:t,children:(0,i.jsxs)("div",{className:a,children:[(0,i.jsx)(g.k2,{to:"/profile/".concat(e.id),children:(0,i.jsx)("img",{src:e.photo||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"Avatar",className:n})}),(0,i.jsx)("div",{children:e.firstName}),(0,i.jsx)("button",{onClick:()=>{e.changeFollowStatus(e.id,e.followed)},disabled:e.inFollowingProgress.some((s=>s===e.id)),children:e.followed?"Unfollow":"Follow"})]})});var u=o(5600);const h="Paginator_currentPage__T-0sm",d="Paginator_page__xiXZZ",P=e=>{const s=Math.ceil(e.itemsTotalCount/e.pageSize),o=[],r=Math.ceil(s/10),[t,a]=(0,l.useState)(Math.ceil(e.currentPage/10)),n=10*(t-1)+1,g=10*t;for(let l=1;l<=s;l++)o.push(l);return console.log(r),console.log(t),console.log(n),console.log(g),(0,i.jsxs)("div",{children:[t>1&&(0,i.jsx)("button",{onClick:()=>a(t-1),children:"Prev"}),(0,l.useMemo)((()=>o.map((e=>e)).filter((e=>e>=n&&e<=g)).map((s=>(0,i.jsx)("span",{onClick:()=>{(s=>{e.onPageChange(e.pageSize,s)})(s)},className:e.currentPage===s&&h||d,children:s},s+" page key")))),[n]),r>t&&(0,i.jsx)("button",{onClick:()=>a(t+1),children:"Next"})]})},p=e=>{(0,l.useEffect)((()=>{0===e.users.length&&e.getUsers(e.pageSize,e.currentPage)}),[e.currentPage]);const s=e.users.map((s=>(0,i.jsx)(c,{id:s.id,firstName:s.name,followed:s.followed,status:s.status,photo:s.photos.small,followUser:e.followUnfollowUser,toggleFollowingProgress:e.toggleFollowingProgress,inFollowingProgress:e.inFollowingProgress,changeFollowStatus:e.changeFollowStatus},s.id+" user key")));return(0,i.jsx)("div",{children:e.isFetching?(0,i.jsx)(u.A,{}):(0,i.jsxs)("div",{children:[(0,i.jsx)(P,{currentPage:e.currentPage,onPageChange:e.getUsers,itemsTotalCount:e.usersTotalCount,pageSize:e.pageSize}),s]})})};var w=o(9548),m=o(2099);const f=e=>e.usersPage.users,_=((0,m.Mz)([f],(e=>e)),e=>e.usersPage.usersTotalCount),v=e=>e.usersPage.pageSize,x=e=>e.usersPage.currentPage,F=e=>e.usersPage.isFetching,j=e=>e.usersPage.inFollowingProgress,C=(0,r.Ng)((e=>({users:f(e),usersTotalCount:_(e),pageSize:v(e),currentPage:x(e),isFetching:F(e),inFollowingProgress:j(e)})),{followUnfollowUser:w.Dn,setUsers:w.v5,setCurrentPage:w.Tm,setUsersTotalCount:w.Yv,toggleIsFetching:w.nZ,toggleFollowingProgress:w.tL,getUsers:w.lo,changeFollowStatus:w.Ei})(p)}}]);
//# sourceMappingURL=980.5d599dd5.chunk.js.map